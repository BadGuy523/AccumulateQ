### 数据库三范式
###### 一范式：属性不可分割，即最小单位
- 每个字段只能是一个值，不能被拆分成多个字段
- 如中国的姓名与外国的姓名，外国姓和名是分开的，不符合一范式
- 但是能不能分割并不是绝对的，需要根据实际需求与设计来定
###### 二范式：要有主键，且其他字段都依赖于主键
- 没有主键就没有唯一性，没有唯一性就无法定位一条数据
###### 三范式：消除传递依赖(消除冗余)
- 各类信息在各自表中存储，不出现在多张表中
- 例如A表中存了B表中的多个字段，包括Bid及其他字段，此时其他字段旧依赖了Bid字段，但是A表中的主键是Aid，此时就产生了传递依赖
- 所以在A表中只存Bid即可，避免了传递依赖，也消除了冗余
###### 三范式用于参考，实际根据需求与设计进行。
### 数据库冗余的利弊
###### 冗余定义
- 在设计数据库时，某一字段属于一个表，但它又同时出现在另一个或多个表，且完全等同于它在其本来所属表的意义表示，那么这个字段就是一个冗余字段
###### 设计冗余字段优点
- 避免连接查询，当数据量过大时提升查询效率
###### 设计冗余字段缺点
- 存储两倍数据，浪费资源
###### 冗余与不冗余两种方案对比
- 当严格按照三范式来设计数据库时，查询时使用主键作为依赖进行连接查询，扩展数据库较为方便，当修改被依赖数据信息时，依赖信息不用进行更改，但是，当数据量过大时会影响到查询效率
- 以上瓶颈也可通过==服务器集群==，==读写分离==，==设计缓存数据库==进行解决
- 冗不冗余实际是空间与时间的抉择。
### 设计步骤
- 需求分析，列出所有功能模块
- 通过思维导图将每个功能模块联系起来
- 调查用户需要操作的一些数据，并分析每个功能模块关联的数据
- 调查用户需要对数据进行何种处理，理清数据库中各种数据之间的关联关系
- 整理数据字典
- 使用ER图画出表与表之间的关系
- 将建好的表进行数据流的测试
###### E-R图补充
1. 实体：用方框表示，方框内为实体的名称。
2. 实体的各种属性：用椭圆表示，椭圆内为属性名称。使用线段将其和相应的实体连接起来。
3. 实体之间的联系：用菱形表示，菱形内为联系的名称。
4. 实体和实体之间的联系
    1. 一对一：员工信息表和员工学历表是一对一关系。
    2. 一对多：员工信息表和员工考勤表一对多关系。
    3. 多对多：员工信息表和员工所报培训课程表是多对多关系。
![image](https://img-blog.csdn.net/20180724181958696?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM4MDA0NjE5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
